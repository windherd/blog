<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>AndroidåŠ¨æ€å¸ƒå±€å®ç°æ€è·¯ | é£ä¸­è¿½é£</title>
<meta name="description" content="Maintain curiosity, to maintain pure heart.">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://windherd.github.io//favicon.ico?v=1560853640325">
<!--å­—ä½“-->
<link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah|Libre+Barcode+39" rel="stylesheet">
<!--ä¸»è¦CSS-->
<link rel="stylesheet" href="https://windherd.github.io//styles/main.css">
<style type="text/css">
      .tilt{
        margin: 0;
        overflow: hidden;
        width: 100vw;
        height: 100vh;
        background: #49beb7;
        background: linear-gradient(to top left, #4CB8C4 -40%, #2196F3);
        position:fixed;
        top:0;
        left:0;
        z-index: 999 !important;
      }
      .container {
        position: absolute;
        top:0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 250px;
        height: 250px;
        margin: auto;
      }

      .part {
        width: 250px;
        position: absolute;
      }

      .svgpath {
        fill: rgba(145,220,90,0);
        stroke: aqua;
        stroke-width: 1.5px;
        stroke-dasharray: 1000;
        stroke-linecap: round;
        z-index: 2;
      }

      .svgbg {
        fill: rgba(255,255,255,0.2);
        z-index: 1;
       }

      #playload {
        animation: dash 2.5s reverse ease-in-out infinite;
      }

      @keyframes dash {
        to {
          stroke-dashoffset: 2000;
        }
      }</style>


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  



<script src="https://windherd.github.io//media/dict/js/Vue.js"></script>
<script src="https://windherd.github.io//media/dict/js/JQuery.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://windherd.github.io//media/dict/css/aos.css" />





  </head>
  <body>
    <div class="tilt">
      <div class='container'>
        <svg class='part' x="0px" y="0px" viewBox="0 0 256 256" style="enable-background:new 0 0 256 256;" xml:space="preserve">
          <path class="svgpath" id="playload" d="M189.5,140.5c-6.6,29.1-32.6,50.9-63.7,50.9c-36.1,0-65.3-29.3-65.3-65.3
        c0,0,17,0,23.5,0c10.4,0,6.6-45.9,11-46c5.2-0.1,3.6,94.8,7.4,94.8c4.1,0,4.1-92.9,8.2-92.9c4.1,0,4.1,83,8.1,83
        c4.1,0,4.1-73.6,8.1-73.6c4.1,0,4.1,63.9,8.1,63.9c4.1,0,4.1-53.9,8.1-53.9c4.1,0,4.1,44.1,8.2,44.1c4.1,0,3.1-34.5,7.2-34.5
        c4.1,0,3.1,24.6,7.2,24.6c4.1,0,2.5-14.5,5.2-14.5c2.2,0,0.8,5.1,4.2,4.9c0.4,0,13.1,0,13.1,0c0-34.4-27.9-62.3-62.3-62.3
        c-27.4,0-50.7,17.7-59,42.3" />

          <path class="svgbg" d="M61,126c0,0,16.4,0,23,0c10.4,0,6.6-45.9,11-46c5.2-0.1,3.6,94.8,7.4,94.8c4.1,0,4.1-92.9,8.2-92.9
        c4.1,0,4.1,83,8.1,83c4.1,0,4.1-73.6,8.1-73.6c4.1,0,4.1,63.9,8.1,63.9c4.1,0,4.1-53.9,8.1-53.9c4.1,0,4.1,44.1,8.2,44.1
        c4.1,0,3.1-34.5,7.2-34.5c4.1,0,3.1,24.6,7.2,24.6c4.1,0,2.5-14.5,5.2-14.5c2.2,0,0.8,5.1,4.2,4.9c0.4,0,22.5,0,23,0" />
        </svg></div> 
    </div>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">

  <div class="overlay"></div>
  <div class="top-container" data-aos="fade-right">
    <!--å¤´åƒ-->
    <div class="top-header-container">
      <a class="site-title-container" href="https://windherd.github.io/">
        <img src="https://windherd.github.io//images/avatar.png?v=1560853640325" class="site-logo">
      </a>
      <h1 class="site-title">
            é£ä¸­è¿½é£
            <p></p>
        </h1>
    </div>
    <!--å¯¼èˆª-->
    <div class="top-header-nav">


      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
    <div class="icons">
        <ul>
          <li v-for="(le,index) in alin.like">
            <a :href="le.aim" :alt="le.alt">
              <img :src="le.src" />
            </a>
          </li>
        </ul>
    </div> 

  </div>


  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
      <div class="site-footer">
          Powered by <a href="https://github.com/windherd" target="_blank">windherd</a>
      </div>
      <div class="site-description">
          <p><a href="#">Maintain curiosity, to maintain pure heart.</a></p>
          <p>
            
            <span>&nbsp;</span>
            Powered by <a href="https://gridea.dev">Gridea</a>
            <span>â€¢</span>Theme <a href="http://www.itaolaity.com/">Alin</a>
          </p>
      </div>
  </div>
</div>



      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">AndroidåŠ¨æ€å¸ƒå±€å®ç°æ€è·¯</h2>
            <div class="post-date">2017-01-22</div>
            
              <div class="feature-container" style="background-image: url('https://windherd.github.io//post-images/DynamicView.jpg')">
              </div>
            
            <div class="post-content">
              <blockquote>
<p>æä¾›ä¸€ç§ç®€å•å®ç°åŠ¨æ€å¸ƒå±€çš„æ€è·¯,å³æ¯æ¬¡å¸ƒå±€é¡µé¢å‘ç”Ÿå˜åŒ–,å‰ç«¯ä¸ç”¨æ›´æ–°ç‰ˆæœ¬,è®©åç«¯æ¥æ§åˆ¶å¸ƒå±€çš„å±•ç¤ºæ•ˆæœ</p>
<p>å¤§æ¦‚1å‘¨çš„æ—¶é—´,ç»ˆäºå®Œæˆäº†æ€è·¯è®¾è®¡åˆ°Demoçš„å®ç°</p>
</blockquote>
<!--more-->
<h3 id="ä»€ä¹ˆæ˜¯åŠ¨æ€å¸ƒå±€">ä»€ä¹ˆæ˜¯åŠ¨æ€å¸ƒå±€</h3>
<ul>
<li>æˆ‘ä»¬ç»å¸¸çš„åšæ³•æ˜¯æ¯æ¬¡äº§å“æœ‰æ–°çš„éœ€æ±‚,æˆ‘ä»¬éƒ½è¦æ ¹æ®æ–°çš„é¡µé¢æ ·å¼
<ol>
<li>ç”»å¸ƒå±€</li>
<li>è§£æåç«¯æ•°æ®ä¸ºmodel</li>
<li>æ‰¾åˆ°æ¯ä¸ªæ§ä»¶</li>
<li>åˆ†åˆ«è®¾ç½®å€¼.</li>
</ol>
</li>
<li>è€ŒåŠ¨æ€å¸ƒå±€,å°±æ˜¯å‰ç«¯ä¸å›ºå®šå¸ƒå±€æ ·å¼,æ ¹æ®åç«¯ä¸‹å‘çš„æ•°æ®æ˜ å°„æˆæœ¬åœ°æ§ä»¶.å†æ ¹æ®åç«¯æ•°æ®è¿›è¡Œå±•ç¤º.æœ‰ç‚¹æŠ½è±¡,è„‘å£³ç–¼+_+~~å¤§èƒ¸å¼Ÿ,è«è¦æ…Œ,æŠ±ç´§æˆ‘!</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè¦åšåŠ¨æ€å¸ƒå±€">ä¸ºä»€ä¹ˆè¦åšåŠ¨æ€å¸ƒå±€</h3>
<ul>
<li>æ²¡æœ‰å‹è¿«å°±æ²¡æœ‰æˆ˜äº‰,æ²¡æœ‰éœ€æ±‚å°±æ²¡æœ‰innovation.æ¯æ¬¡çš„éœ€æ±‚éƒ½æ˜¯è·Ÿå…·ä½“ä¸šåŠ¡å˜»å˜»ç›¸å…³çš„.ä¸ºäº†è®©ç§»åŠ¨appèƒ½é€‚åº”å¹¿å‘ŠæŠ•æ”¾ç´ æçš„å¤šæ ·æ€§, å¹¶åœ¨æŠ•æ”¾è¿‡ç¨‹ä¸­å‡å°‘äººåŠ›çš„ä»‹å…¥ ,å®ç°å‘Šå±•ç¤ºè§†å›¾çš„é«˜æ•ˆ,è‡ªé€‚åº”é¡µé¢åŠ¨æ€å¸ƒå±€</li>
<li>ä¸šåŠ¡éœ€æ±‚æ˜¯è¿™æ ·çš„,ä»¥banneré¡µé¢,å’Œç€‘å¸ƒæµå¸ƒå±€ä¸ºä¾‹.æˆ‘ä»¬è¦æŠ•æ”¾å¹¿å‘Š,è€Œå¹¿å‘Šçš„æ¥æºä¸é¡µé¢è®¾è®¡æ˜¯æ ¹æ®å¹¿å‘Šå•†çš„éœ€æ±‚æ¥å®šåˆ¶çš„.ä¸åŒçš„å¹¿å‘Šå•†å¯¹äºä¸åŒå¹¿å‘Šçš„é¡µé¢è®¾è®¡éœ€æ±‚æ˜¯ä¸åŒçš„.è€Œå¯¹äºå¤§æµé‡çš„appè€Œè¨€,ä¸€ä¸ªå¹¿å‘Šå¯èƒ½å°±åªæ˜¯å±•ç¤ºä¸€å¤©,å‡ å¤©,ç”šè‡³å‡ ä¸ªå°æ—¶.å‡å¦‚ä¸€ä¸ªå°æ—¶æ¢ä¸€ä¸ªå¹¿å‘Š,æˆ‘ä»¬å‰ç«¯æ˜¯ä¸å¯èƒ½æ¯å°æ—¶æ›´æ–°ä¸€ä¸ªç‰ˆæœ¬çš„,Androidè¿˜å¥½ä¸€ç‚¹,å¯¹äºiOSæ¥è®²,appstoreå®¡æ ¸å°±è¦ä¸€åˆ°ä¸¤å‘¨.å¦‚æœçœŸçš„è¿™æ ·å‘ç‰ˆæœ¬äº†.ç”¨æˆ·:ä½ tmç¡®å®šè¿™ä¸æ˜¯åœ¨é€—æˆ‘?å› æ­¤,å¯¹äºè¿™ç§éœ€æ±‚,åŠ¨æ€å¸ƒå±€åŠ¿åœ¨å¿…è¡Œ!</li>
</ul>
<h3 id="å®ç°åŠ¨æ€å¸ƒå±€çš„æ€è·¯">å®ç°åŠ¨æ€å¸ƒå±€çš„æ€è·¯</h3>
<ul>
<li>å‰é¢è¯´äº†ä¸€å¤§å †åºŸè¯.ä½ å¯èƒ½çœ‹äº†ç¯‡å‡åšå®¢?</li>
<li>åŠ¨æ€å¸ƒå±€ä¸»è¦æ˜¯è¦ç¡®å®šä¸€ä¸‹ä¸‰ç‚¹:
<ol>
<li>å¸ƒå±€å¤§å°</li>
<li>å¸ƒå±€ä½ç½®</li>
<li>æ§ä»¶ç±»å‹</li>
</ol>
</li>
<li>å½“ç„¶è¿˜æœ‰ä¸€ä¸‹å°çš„æ³¨æ„ç‚¹,æ¯”å¦‚margin,å›¾ç‰‡åœ†è§’,ç‚¹å‡»äº‹ä»¶ç­‰ç­‰,å½“ç„¶æœ¬æ–‡å¹¶å®ç°è¿™äº›,è¿™éƒ½æ˜¯å°é—®é¢˜,ä¸æ˜¯å—?å¯èƒ½ä¹Ÿä¸æ˜¯,å¯¹äºæˆ‘è‹¥æ˜¯çš„è¯,æˆ‘è¿™ä¸€ç¯‡ä¸å†™å®Œäº†å—?èœé¸¡å•Š~</li>
<li>æ€è·¯(æ ¹æ®åç«¯ä¸‹å‘çš„jsonæ•°æ®æŒ‰æ¯”ä¾‹å’Œåšæœ¬åœ°æ˜ å°„å±•ç¤ºå‡ºå¸ƒå±€)
<ol>
<li>å…ˆæŠŠæˆ‘ä»¬åŠ¨æ€å¸ƒå±€çš„å®¹å™¨å³æˆ‘ä»¬æƒ³åœ¨é‚£ä¸€å—åŠ¨æ€å±•ç¤ºå¸ƒå±€çš„åŒºåŸŸ,æ¯”å¦‚bannerä½ç½®çš„é•¿å®½åˆ†æˆè‹¥å¹²ç­‰åˆ†</li>
<li>è®©åç«¯apiæ•°æ®ä¸­è¿”å›æˆ‘ä»¬éœ€è¦çš„1.é•¿å®½,2èµ·å§‹åæ ‡,3æ§ä»¶ç±»å‹(æˆ‘ä»¬Android&amp;iOSåšæœ¬åœ°æ˜ å°„æˆæˆ‘ä»¬è‡ªèº«çš„æ§ä»¶ç±»å‹).4æ€»çš„é•¿å®½å„åˆ†äº†å¤šå°‘ä»½</li>
<li>ä¸Šé¢è¯´çš„é•¿å®½,èµ·å§‹å·¦è¾¹,å’Œæ€»çš„é•¿å®½éƒ½æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼.åè¾¹ä¼šæœ‰ç»†è¯´å‘¢</li>
</ol>
</li>
</ul>
<h3 id="æ–‡æ¡£">æ–‡æ¡£</h3>
<ol>
<li>jsonæ•°æ®æ ¼å¼å®šä¹‰</li>
</ol>
<pre><code class="language-java">   {
       &quot;data&quot;: {
           &quot;cols&quot;: &quot;4&quot;,
           &quot;rows&quot;: &quot;4&quot;,
           &quot;views&quot;: [
               {
                   &quot;type&quot;: &quot;text&quot;,
                   &quot;value&quot;: &quot;è¿™æ˜¯ä¸€ä¸ªTextView&quot;,
                   &quot;width&quot;: &quot;4&quot;,
                   &quot;height&quot;: &quot;1&quot;,
                   &quot;x&quot;: &quot;0&quot;,
                   &quot;y&quot;: &quot;3&quot;,
                   &quot;font&quot;: &quot;17&quot;,
                   &quot;other&quot;: &quot;å…¶ä»–&quot;//æ¯”å¦‚ä¸€äº›margin,æ˜¯å¦å¯ç‚¹å‡»,èƒŒæ™¯ç­‰ç­‰.æ˜¯ä¸€äº›å¾…å®šå­—æ®µ
               },
               {
                   &quot;type&quot;: &quot;image&quot;,
                   &quot;value&quot;: &quot;URL&quot;,
                   &quot;width&quot;: &quot;4&quot;,
                   &quot;height&quot;: &quot;3&quot;,
                   &quot;x&quot;: &quot;0&quot;,
                   &quot;y&quot;: &quot;0&quot;,
                   &quot;other&quot;: &quot;å…¶ä»–&quot;//æ¯”å¦‚ä¸€äº›margin,æ˜¯å¦å¯ç‚¹å‡»,èƒŒæ™¯ç­‰ç­‰.æ˜¯ä¸€äº›å¾…å®šå­—æ®µ
               }
           ]
       }
   }
</code></pre>
<ol start="2">
<li>
<p>é€šè¿‡cols/rowså¯¹å¹¿å‘Šå®¹å™¨è§†å›¾è¿›è¡Œç­‰åˆ†.ç®€å•åæ ‡ç³»å¦‚ä¸‹</p>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fbz7p97uq7j30vc0eg0ty.jpg" alt=""></p>
</li>
<li>
<p>å­è§†å›¾çš„ç±»å‹å®šä¹‰</p>
<p>ç›®å‰çš„type:</p>
<pre><code class="language-java">{
    &quot;text&quot;  : TextView,
    &quot;image&quot; : Imageview,
    &quot;gif&quot;   : gifå›¾ç‰‡,
    &quot;video&quot; : è§†é¢‘view
}
</code></pre>
</li>
<li>
<p>æ ¹æ®x/y/width/heightå››ä¸ªå­—æ®µæ¥ç¡®å®šæŠ•æ”¾å­è§†å›¾åœ¨ç¬¬ä¸€æ­¥ä¸­åˆ’åˆ†çš„å·¦è¾¹ç³»ä¸­çš„ä½ç½®å’Œå¤§å°</p>
<ul>
<li>
<p>ä¾ç…§ç¤ºä¾‹æ•°æ®å¾—åˆ°å¦‚ä¸‹å¸ƒå±€:</p>
<ul>
<li>å›¾ç‰‡viewå·¦ä¸Šè§’ç‚¹åæ ‡:(0, 0), å®½é«˜: (4, 3)</li>
<li>æ–‡æœ¬viewå·¦ä¸Šè§’ç‚¹åæ ‡:(0, 3), å®½é«˜: (4, 1)</li>
</ul>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fbz7v6mttaj30iw08r74n.jpg" alt=""></p>
</li>
</ul>
</li>
<li>
<p>æ ¹æ®&quot;type&quot;æ˜ å°„æˆæœ¬ç¬¬ç›¸åº”æ§ä»¶,æ ¹æ®&quot;value&quot;ç»™ç›¸åº”çš„æ§ä»¶è®¾ç½®å†…å®¹</p>
</li>
<li>
<p>å†ä¸¾ä¸ªå…·ä½“ä¾‹å­</p>
<ul>
<li>
<p>æœ‰å¦‚ä¸‹å¸ƒå±€</p>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcgy1fbz7z81muxj30nw0jnn1n.jpg" alt=""></p>
</li>
<li>
<p>åç«¯æŠ•æ”¾æ¯”ä¾‹å¦‚ä¸‹:</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fbz824zmucj30h906y75h.jpg" alt=""></p>
</li>
<li>
<p>åæ ‡:</p>
<ul>
<li>æ–‡æœ¬viewå·¦ä¸Šè§’ç‚¹åæ ‡:(0, 0), å®½é«˜: (2, 1)</li>
<li>å·¦è¾¹å›¾ç‰‡viewå·¦ä¸Šè§’ç‚¹åæ ‡:(0, 1), å®½é«˜: (1, 4)</li>
<li>å³è¾¹å›¾ç‰‡viewå·¦ä¸Šè§’ç‚¹åæ ‡:(1, 1), å®½é«˜: (1, 4)</li>
</ul>
</li>
<li>
<p>json:</p>
<pre><code class="language-java">{
    &quot;data&quot; : {
        &quot;cols&quot; : &quot;2&quot;,
        &quot;rows&quot; : &quot;5&quot;,
        &quot;views&quot; : [
            {
                &quot;type&quot; : &quot;text&quot;,
                &quot;value&quot; : &quot;ã€çƒˆç«å± é¾™ã€‘3Pé¡¶çº§BOSS çŒ›çˆ†ç»å“è£…å¤‡&quot;,
                &quot;width&quot; : &quot;2&quot;,
                &quot;height&quot; : &quot;1&quot;,
                &quot;x&quot; : &quot;0&quot;,
                &quot;y&quot; : &quot;0&quot;,
                &quot;other&quot; : &quot;å…¶ä»–&quot;
            }, {
                &quot;type&quot; : &quot;image&quot;,
                &quot;value&quot; : &quot;URL1&quot;, // å›¾ç‰‡URL
                &quot;width&quot; : &quot;1&quot;,
                &quot;height&quot; : &quot;4&quot;,
                &quot;x&quot; : &quot;0&quot;,
                &quot;y&quot; : &quot;1&quot;,
                &quot;other&quot; : &quot;å…¶ä»–&quot;
            }, {
                &quot;type&quot; : &quot;image&quot;,
                &quot;value&quot; : &quot;URL2&quot;, // å›¾ç‰‡URL
                &quot;width&quot; : &quot;1&quot;,
                &quot;height&quot; : &quot;4&quot;,
                &quot;x&quot; : &quot;1&quot;,
                &quot;y&quot; : &quot;1&quot;,
                &quot;other&quot; : &quot;å…¶ä»–&quot;
            }
        ]
    }
}

</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="æ ¸å¿ƒä»£ç ">æ ¸å¿ƒä»£ç </h3>
<ul>
<li>
<p>å‡ºäºæ–¹ä¾¿æˆ‘ç›´æ¥å§jsonæ”¾åˆ°æœ¬åœ°assetsä¸‹</p>
<ul>
<li>
<p>Model</p>
<pre><code class="language-java">//å®šä¹‰æšä¸¾,ç›®å‰æœ‰4ç§ç±»å‹.
    public enum TYPE {
        TEXT,
        IMAGE,
        GIF,
        VIDEO
    }
    private String type;
    private String value;
    private float width;
    private float height;
    private float x;
    private float y;
    private float font;
    private String background;
//è¿™é‡Œçœç•¥äº†get.set
</code></pre>
<p>â€‹</p>
</li>
</ul>
</li>
<li>
<p>Activity#onCreate()</p>
<pre><code class="language-java"> @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        mFrameLayout = (FrameLayout) findViewById(R.id.activity_main);

        String s = readFile(&quot;sample.json&quot;, this);
        String data = JSON.parseObject(s).getString(&quot;data&quot;);
        mDataModel = JSON.parseObject(data, DataBean.class);
        if (mDataModel == null) {
            Log.e(&quot;zyk&quot;, &quot;parse,error&quot;);
            return;
        }
        Log.d(&quot;zyk&quot;, mDataModel.toString());

        //create the dynamicView
        mFrameLayout.post(new Runnable() {
          //è¿™é‡Œpostæ˜¯ä¸ºäº†åœ¨DynamicViewä¸­æ‹¿åˆ°mFrameLayoutçš„å®½é«˜ä¿¡æ¯,
          //å› ä¸ºåœ¨Activityä¸­çš„onCreate()æ–¹æ³•ä¸­ä¼ çš„,ä½ æ‡‚å¾—ğŸ˜
            @Override
            public void run() {
                View view = DynamicView.createView(MainActivity.this, mDataModel, mFrameLayout);//æ ¸å¿ƒä»£ç 
                if (view == null) {
                    return;
                }
                //add Layout Parameters in just created view
                ViewGroup.LayoutParams layoutParams = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);
                view.setLayoutParams(layoutParams);
                //add view to Activity'layout
                mFrameLayout.addView(view);
            }
        });
    }
</code></pre>
</li>
<li>
<p>DynamicView</p>
</li>
</ul>
<pre><code class="language-java">//æ‹¿åˆ°å±å¹•çš„å®½é«˜ä¿¡æ¯
               sWidthPixels = DensityUtil.getDevicesWidthPixels(context);
               sHeightPixels = DensityUtil.getDevicesHeightPixels(context);
               Log.d(&quot;zyk&quot;, &quot;å®½:&quot; + sWidthPixels + &quot;,&quot;+ &quot;é«˜&quot; + sHeightPixels + &quot;,&quot;
 + &quot;å¯†åº¦&quot; + DensityUtil.getDensityDpi(context));
</code></pre>
<pre><code class="language-java">
//æ ¹æ®modelæ•°æ®è®¡ç®—å‡ºå®½é«˜
int x = (int) (data.getX() / cols) * parent.getWidth();
int y = (int) (data.getY() / rows) * parent.getHeight();
int width = (int) ((data.getWidth() / cols) * parent.getWidth());
int height = (int)((data.getHeight() / rows) * parent.getHeight());
</code></pre>
<pre><code class="language-java">//æ ¹æ®è®¡ç®—å‡ºçš„å®½é«˜å’Œtype,åˆ›å»ºview
switch (data.getType()) {
            case TEXT:
                TextView textView = new TextView(context);
                textView.setX(x);//èµ·å§‹ç‚¹åæ ‡
                textView.setY(y);
                textView.setWidth(width);//å®½é«˜ä¿¡æ¯
                textView.setHeight(height);
                if (data.getValue() != null) {
                    textView.setText(data.getValue());//è®¾ç½®å€¼
                }
                if (data.getFont() &gt; 0) {
                    textView.setTextSize(data.getFont());//å­—ä½“å¤§å°
                }
                if (data.getBackground() != null) {//èƒŒæ™¯é¢œè‰²
                    textView.setBackgroundColor(Color.parseColor(data.getBackground()));
                }
    			....ä¸€äº›å…¶ä»–å¾…è¡¥å……å±æ€§
                view = textView;//å¾…ä¼šè¿”å›è¿™ä¸ªview
                break;
            case IMAGE:
                ImageView imageView = new ImageView(context);
    			//ä¸‹é¢çš„ä»£ç å¾ˆæŒ«,åº”è¯¥æœ‰æ›´å¥½çš„å®ç°æ–¹å¼
                imageView.setX(x);
                imageView.setY(y);
                imageView.setMaxWidth(width);
                imageView.setMaxHeight(height);
                imageView.setAdjustViewBounds(true); 
                Glide.with(context).load(url).into(imageview);
                view = imageView;
                break;
            case GIF://gifè¦æ”¯æŒä¸€äº›å…¶ä»–çš„ç‰¹æ®Šä¸šåŠ¡å±æ€§
    			.........
    
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯ä¸€äº›æ ¸å¿ƒçš„ä»£ç .</p>
<ol>
<li>ä¸»è¦åœ¨Activityçš„ç¬¬20è¡Œ.æŠŠviewçš„åˆ›å»ºäº¤ç»™DynamicViewè¿™ä¸ªç±»å¤„ç†,å¹¶æŠŠdataæ•°æ®å’Œè¿™ä¸ªåŠ¨æ€viewçš„parentä¼ é€’.</li>
<li>è·å–å±å¹•çš„å®½é«˜ä¿¡æ¯,è·å–parentçš„LayoutParams</li>
<li>æ ¹æ®dataé‡Œé¢çš„æ•°æ®æŒ‰æ¯”ä¾‹è®¡ç®—å‡ºçœŸå®çš„å®½é«˜ä¿¡æ¯å’Œviewåä¸Šè§’åæ ‡</li>
<li>æ ¹æ®modelä¸­å®šä¹‰çš„æšä¸¾type new å‡ºå…·ä½“çš„viewå¹¶è®¾ç½®ç›¸åº”çš„å®½é«˜ä¿¡æ¯,åŠå…¶å±æ€§.perfect~</li>
</ol>
<h3 id="å¾…å¤„ç†æ­£åœ¨åšçš„åŠŸèƒ½_">å¾…å¤„ç†/æ­£åœ¨åšçš„åŠŸèƒ½(â•¯ï¹â•°)</h3>
<ul>
<li>å•ä¸ªå­è§†å›¾viewçš„å±•ç¤ºå±æ€§ç»†èŠ‚å®Œå–„</li>
<li>é€»è¾‘äº‹ä»¶å¤„ç†
<ul>
<li>ç‚¹å‡»</li>
<li>å›¾ç‰‡æ˜¯å¦æ”¯æŒæ‰‹åŠ¿ç¼©æ”¾,å›¾ç‰‡åœ†è§’çš„å¤„ç†</li>
</ul>
</li>
<li>å¸ƒå±€éƒ½æœ‰padding, å°†paddingçº³å…¥åæ ‡ç³»åˆ’åˆ†å°†ä¼šå¢åŠ åæ ‡ç³»å¤æ‚åº¦
<ul>
<li>é€šè¿‡ç»™å®¹å™¨viewä»¥åŠå­è§†å›¾viewå¢åŠ &quot;padding&quot;å­—æ®µ, æ§åˆ¶ä½ç½®å¤§å°å¾®è°ƒ, å¯ä»¥è¾ƒå°‘åæ ‡åˆ’åˆ†çš„å¤æ‚åº¦</li>
<li><code>&quot;padding&quot; : [ä¸Š, å³, ä¸‹, å·¦]</code></li>
</ul>
</li>
<li>å…¶ä»–....(è€å¤§ä¸€ç›´åœ¨å¼ºè°ƒåšè®¡åˆ’è¦é‡åŒ–,è¿™ä¸ªè¯ä»¥åæ˜¯ä¸æ•¢ç”¨äº†)</li>
<li>åˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„åº“,æ–¹ä¾¿å¤–éƒ¨è°ƒç”¨</li>
</ul>
<blockquote>
<p>Demoç›®å‰å·²ç»å®Œæˆ.æ€è·¯æ€æƒ³æ˜¯æœ€é‡è¦çš„.è¿™ç§æ–¹æ¡ˆæ˜¯å¯è¡Œçš„,åŒæ—¶æ”¯æŒiOSå’ŒAndroid.iOSé‚£å“¥ä»¬è¿˜åœ¨åŸ‹å¤´å­å“§å­å“§æäº‹æƒ….ä»–å·²ç»åšåˆ°æ¯”æˆ‘è¦ç»†èŠ±å¾ˆå¤š.å½“ç„¶è‚¯å®šä¼šæœ‰æ›´å¥½çš„å®ç°æ–¹å¼,åœ¨æ­¤ä»…ä»…æ˜¯æŠ›èˆ¹å¼•æ¬².(æ°´æ‰‹,å¿«ä¸Šèˆ¹,èˆ¹é•¿å·²ç»è¿«ä¸åŠå¾…äº†~)</p>
<p>é©¬ä¸Šè¦è¿‡å¹´äº†,2018å¹´æ–°å¹´å¿«ä¹å“Ÿ,mua~</p>
</blockquote>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://windherd.github.io//tag/android" class="tag">
                    Android
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://windherd.github.io//post/annotation">
                  <h3 class="post-title">
                    æ³¨è§£
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <footer>
	<div class="foo-con">
    	<p><a href="#">Maintain curiosity, to maintain pure heart.</a></p>
      	<p>
	        
	        <span>&nbsp;</span>
	        Powered by <a href="https://gridea.dev">Gridea</a>
	        <span>â€¢</span>Theme <a href="http://www.itaolaity.com/">Alin</a>
     	</p>
    </div>
</footer>



<script src="https://windherd.github.io//media/dict/js/aos.js"></script>

<!--Self-->
<script>
    $(window).on('load',function(){ 
  ã€€ã€€$('.tilt').fadeOut(1000);
ã€€ã€€}); 
</script>


<script type="application/javascript">

/*åŠ¨ç”»åˆå§‹åŒ–*/
AOS.init(
  {
  offset: 200,
  duration: 600,
  easing: 'ease-in-sine',
  delay: 100,
  }
);

/*ä»£ç é«˜äº®*/
hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible:false,
    alin:{
      like:[
          {
            "alt":"æˆ‘çš„åšå®¢",
            "aim":"http://www.itaolaity.com/index.php",
            "src":"http://itaolaity.com/20190429220545.png"
          },
          {
            "alt":"GitHub",
            "aim":"https://github.com/taoya7",
            "src":"http://itaolaity.com/20190429220612.png"
          },
          {
            "alt":"Email",
            "aim":"mailto:569781231@qq.com",
            "src":"http://itaolaity.com/20190429220636.png"
          }
      ]
    }
  }
});

</script>




  
  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: 'c3a23f028ffa157f67f9',
        clientSecret: 'd9b1f603641c849e309d3273da20035201edbb32',
        repo: 'windherd.github.io',
        owner: 'windherd',
        admin: ['windherd'],
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




    <script>
      //æ·»åŠ SVGä»£ç 
      var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="14" viewBox="20"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg>';
      var code = document.querySelectorAll(".post-content pre code");
      for(var i=0; i<code.length; i++){
          code[i].insertAdjacentHTML("beforebegin", svg);
      }
      //æ³¨å†Œæ·»åŠ Class
      $('.post-detail h1,h2,h3,h4,h5').addClass("iconfont");


    </script>
  </body>
</html>
